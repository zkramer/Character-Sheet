<div class="wrapper">
    <input type="hidden" class="tabstoggle" name="attr_sheetTab" value="pilot"/>
    <img src="https://github.com/zkramer/Character-Sheet/blob/main/8ff757e24f4e917aa0d207c9a75ad76d.png?raw=true" />
    <div class="pilot">
        <div style="display: flex;">
            <div class="twocolumns">
                <div class="labels">
                    <label style="margin-top: 5px">Name</label>
                    <label style="margin-top: 13px">Species </label>
                    <label style="margin-top: 13px">Role </label>
                    <label style="margin-top: 13px">Pronouns </label>
                </div>
                <div class="valuecolumn">
                    <input type="text" name="attr_character_name">
                    <input type="text" name="attr_species">
                    <input type="text" name="attr_role">
                    <input type="text" name="attr_pronouns">
                    <input type="number" style="color: black;background-color: black;border-color: black" min="0" name="attr_unused" disabled>
                    <input type="number" style="color: black;background-color: black;border-color: black" min="0" name="attr_unused" disabled>
                </div>
            </div>
            <div class="marginleft">
                <div class="twocolumns">
                    <div class="labels">
                        <label style="margin-top: 5px">Initiative</label>
                        <label style="margin-top: 13px">Resolve</label>
                        <label style="margin-top: 13px">Defense </label>
                        <label style="margin-top: 13px">Armor (Dice)</label>
                        <label style="margin-top: 13px">Force Points</label>
                        <label style="margin-top: 13px">Upgrade Points </label>
                    </div>
                    <div class="valuecolumn">
                        <input type="number" min="0" name="attr_initiative">
                        <input type="number" min="0" name="attr_resolve">
                        <input type="number" min="0" name="attr_defense">
                        <input type="number" min="0" name="attr_armor">
                        <input type="number" min="0" name="attr_force_points">
                        <input type="number" min="0" name="attr_upgrade_points">
                    </div>
                    <div class="valuecolumn7">
                        <label style="color: black">/</label>
                        <label>/</label>
                        <label>/</label>
                        <label>/</label>
                        <label>/</label>
                        <label style="color: black">/</label>
                    </div>
                    <div class="valuecolumn1">
                        <input type="number" style="color: black;background-color: black;border-color: black" min="0" name="attr_unused" disabled>
                        <input type="number" min="0" name="attr_resolve_max">
                        <input type="number" min="0" name="attr_defense_max">
                        <input type="number" min="0" name="attr_armor_max">
                        <input type="number" min="0" name="attr_force_points_max">
                        <input type="number" style="color: black;background-color: black;border-color: black" min="0" name="attr_unused" disabled>
                        
                    </div>
                </div>
            </div>
        </div>
        
        <img src="https://github.com/zkramer/Character-Sheet/blob/main/Edges.png?raw=true" />
        <fieldset class="repeating_edges">
                <textarea name="attr_edges" class="textarea" style="overflow: auto; height: 20px; background-color: black; color: white"></textarea>
        </fieldset>


        <img src="https://github.com/zkramer/Character-Sheet/blob/main/Burdens.png?raw=true" />
        <fieldset class="repeating_burdens">
                <textarea name="attr_burdens" class="textarea" style="overflow: auto; height: 20px; background-color: black; color: white"></textarea>
        </fieldset>


            <img src="https://github.com/zkramer/Character-Sheet/blob/main/attributes.png?raw=true" />
                <div class="fourteencolumns">
                    <div class="valuecolumn">
                        <label style="color: gold;margin-top: 5px">Dexterity</label>
                        <label>Agility </label>
                        <label>Blasters</label>
                        <label>Melee</label>
                        <label>Steal</label>
                        <label>Throw</label>
                    </div>
                    <div class="valuecolumn">
                        <input type="number" min="0" name="attr_dexterity">
                        <input type="number" min="0" name="attr_agility">
                        <input type="number" min="0" name="attr_blasters">
                        <input type="number" min="0" name="attr_melee">
                        <input type="number" min="0" name="attr_steal">
                        <input type="number" min="0" name="attr_throw">
                    </div>
                    <div class="valuecolumn">
                        <label style="color: gold;margin-top: 5px">Strength</label>
                        <label>Athletics </label>
                        <label>Brawl</label>
                        <label>Intimidate</label>
                        <label>Stamina</label>
                        <label>Swim</label>
                    </div>
                    <div class="valuecolumn">
                        <input type="number" min="0" name="attr_strength">
                        <input type="number" min="0" name="attr_athletics">
                        <input type="number" min="0" name="attr_brawl">
                        <input type="number" min="0" name="attr_intimidate">
                        <input type="number" min="0" name="attr_stamina">
                        <input type="number" min="0" name="attr_swim">
                    </div>
                    <div class="valuecolumn">
                        <label style="color: gold;margin-top: 5px">Perception</label>
                        <label>Deceive</label>
                        <label>Hide</label>
                        <label>Persuade</label>
                        <label>Search</label>
                        <label>Tactics</label>
                    </div>
                    <div class="valuecolumn">
                        <input type="number" min="0" name="attr_perception">
                        <input type="number" min="0" name="attr_deceive">
                        <input type="number" min="0" name="attr_hide">
                        <input type="number" min="0" name="attr_persuade">
                        <input type="number" min="0" name="attr_search">
                        <input type="number" min="0" name="attr_tactics">
                    </div>
                    <div class="valuecolumn">
                        <label style="color: gold;margin-top: 5px">Knowledge</label>
                        <label>Galaxy</label>
                        <label>Streetwise</label>
                        <label>Survival</label>
                        <label>Willpower</label>
                        <label>Xenology</label>
                    </div>
                    <div class="valuecolumn">
                        <input type="number" min="0" name="attr_knowledge">
                        <input type="number" min="0" name="attr_galaxy">
                        <input type="number" min="0" name="attr_streetwise">
                        <input type="number" min="0" name="attr_survival">
                        <input type="number" min="0" name="attr_willpower">
                        <input type="number" min="0" name="attr_xenology">
                    </div>
                    
             </div>
             
             <div class="fourteencolumns">
                 <div class="valuecolumn3">
                            <label style="color: gold;margin-top: 5px">Mechanical</label>
                            <label>Astrogation</label>
                            <label>Drive</label>
                            <label>Gunnery</label>
                            <label>Pilot</label>
                            <label>Sensors</label>
                        </div>
                        <div class="valuecolumn">
                            <input type="number" min="0" name="attr_mechanical">
                            <input type="number" min="0" name="attr_astrogation">
                            <input type="number" min="0" name="attr_drive">
                            <input type="number" min="0" name="attr_gunnery">
                            <input type="number" min="0" name="attr_pilot">
                            <input type="number" min="0" name="attr_sensors">
                        </div>
                        <div class="valuecolumn">
                            <label style="color: gold;margin-top: 5px">Technical</label>
                            <label>Armament</label>
                            <label>Computers</label>
                            <label>Droids</label>
                            <label>Medicine</label>
                            <label>Vehicles</label>
                        </div>
                        <div class="valuecolumn">
                            <input type="number" min="0" name="attr_technical">
                            <input type="number" min="0" name="attr_armament">
                            <input type="number" min="0" name="attr_computers">
                            <input type="number" min="0" name="attr_droids">
                            <input type="number" min="0" name="attr_medicine">
                            <input type="number" min="0" name="attr_vehicles">
                        </div>
                        <div class="valuecolumn">
                            <label style="color: gold;margin-top: 5px">The Force</label>
                            <label>Alter</label>
                            <label>Control</label>
                            <label>Sense</label>
                            <label>Dark Side</label>
                            <label>Redemption</label>
                        </div>
                        <div class="valuecolumn">
                            <input type="number" min="0" name="attr_force">
                            <input type="number" min="0" name="attr_alter">
                            <input type="number" min="0" name="attr_control">
                            <input type="number" min="0" name="attr_sense">
                            <input type="number" min="0" name="attr_darkside">
                            <input type="number" min="0" name="attr_redemption">
                        </div>
                    </div>
                    
        <img src="https://github.com/zkramer/Character-Sheet/blob/main/upgrade.png?raw=true" />
        <div class="credits">
            <label>Add +1D to a dice roll</label>
            <label>Improve a Skill (costs 3UP x the skill's new modifier rating)</label>
            <label>Improve an Attribute (costs 6UP x the attribute's new dice rating)</label>
            <label>Improve a Weapon's Damage (costs 3UP x the weapon's new damage modifier)</label>
            <label>Improve an Armor (costs 6UP x the armor's new dice rating)</label>
            <label>Unlock an Edge (costs 20UP)</label>
        </div>
        <img src="https://github.com/zkramer/Character-Sheet/blob/main/credits.png?raw=true" />
        <div class="credits">
            <input type="number" min="0" name="attr_credits">
        </div>
        
        <img src="https://github.com/zkramer/Character-Sheet/blob/main/weapons.png?raw=true" />
        <div class="weapon">
            <label>Weapon</label>
            <label>Attack Skill</label>
            <label>Damage</label>
            <label>Special Qualities</label>
        </div>
        <div>
            <fieldset class="repeating_weapons" style="background-color: black; color: white">
                <div class="weapon">
                    <input type="text" name="attr_weaponname" title="Name of the Weapon">
                    <input type="text" name="attr_weapon_skill" title="Range">
                    <input style="margin-left: 5px" type="text" name="attr_damage" title="Damage">
                    <input style="margin-left: 5px" type="text" name="attr_qualities" title="Qualities">
                    </button>
                </div>
            </fieldset>
        </div>

        <img src="https://github.com/zkramer/Character-Sheet/blob/main/equipment.png?raw=true" />
        <fieldset class="repeating_equipment">
            <textarea name="attr_equipment" class="textarea" style="background-color: black; color: white"></textarea>
        </fieldset>

        <img src="https://github.com/zkramer/Character-Sheet/blob/main/bio.png?raw=true" />
        <fieldset class="repeating_abilities">
            <textarea name="attr_ability" class="textarea" style="background-color: black; color: white"></textarea>
        </fieldset>

    </div>

    </div>
</div>
<script type="text/worker">
    on("change:dexterity change:armor_max change:agility change:blasters change:melee change:brawl", function() {
        getAttrs(["dexterity", "armor_max", "agility", "blasters", "melee", "brawl"], function(values) {
            let dex = parseInt(values.dexterity)||0;
            let agi = parseInt(values.agility)||0;
            let blas = parseInt(values.blasters)||0;
            let mel = parseInt(values.melee)||0;
            let bra = parseInt(values.brawl)||0;
            let arm = parseInt(values.armor_max)||0;
            let high = Math.max(mel, bra, blas);
            let def = 6 + dex + agi + high - arm;
            setAttrs({
                defense_max: def
            });
        });
    });
</script>
<script type="text/worker">
    on("change:perception change:tactics change:agility", function() {
        getAttrs(["agility", "tactics", "perception"], function(values) {
            let per = parseInt(values.perception)||0;
            let agi = parseInt(values.agility)||0;
            let tact = parseInt(values.tactics)||0;
            let init = 6 + per + agi + tact;
            setAttrs({
                initiative: init
            });
        });
    });
</script>
<script type="text/worker">
    on("change:strength change:stamina change:willpower", function() {
        getAttrs(["strength", "stamina", "willpower"], function(values) {
            let str = parseInt(values.strength)||0;
            let sta = parseInt(values.stamina)||0;
            let will = parseInt(values.willpower)||0;
            let res = 6 + (2*str) + sta + will;
            setAttrs({
                resolve_max: res
            });
        });
    });
</script>
<script type="text/worker">
    on("sheet:opened change:force", function() {
        getAttrs(["force"], function(values) {
            let forc = parseInt(values.force)||0;
            let forcep = 1 + forc;
            setAttrs({
                force_points_max: forcep
            });
        });
    });
</script>